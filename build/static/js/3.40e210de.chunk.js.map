{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/UI/Spinner/Spinner.js","components/UI/Input/Input.js","containers/Authenticate/Authenticate.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","Spinner","class","input","props","inputElement","inputClasses","classes","InputElement","invalid","shouldValidate","touched","Invalid","elementType","className","join","elementConfig","onChange","changed","options","map","option","key","displayValue","Label","label","connect","state","loading","authReducer","error","isAuthenticated","token","searchResult","searchReducer","authRedirectPath","dispatch","onAuth","email","password","isSignup","actions","onSetAuthRedirectPath","useState","type","placeholder","validation","required","isEmail","valid","minLength","authForm","setAuthForm","setIsSignup","useEffect","formElementsArray","id","config","form","formElement","elementsType","event","controlName","updatedControls","updateObject","target","checkValidity","inputChangedHandler","errorMessage","message","authRedirect","to","NavigationItem","link","exact","src","alt","onSubmit","preventDefault","Button","clicked","btnType"],"mappings":"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","file":"static/js/3.40e210de.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React from \"react\";\n\nimport \"./Spinner.css\";\n\nconst Spinner = () => (\n  <div class=\"loader\">\n    <h2>LOADING</h2>\n  </div>\n);\n\nexport default Spinner;\n","import React from \"react\";\n\nimport classes from \"./Input.css\";\n\nconst input = props => {\n  let inputElement = null;\n  const inputClasses = [classes.InputElement];\n\n  if (props.invalid && props.shouldValidate && props.touched) {\n    inputClasses.push(classes.Invalid);\n  }\n\n  switch (props.elementType) {\n    case \"input\":\n      inputElement = (\n        <input\n          className={inputClasses.join(\" \")}\n          {...props.elementConfig}\n          value={props.value}\n          onChange={props.changed}\n        />\n      );\n      break;\n    case \"textarea\":\n      inputElement = (\n        <textarea\n          className={inputClasses.join(\" \")}\n          {...props.elementConfig}\n          value={props.value}\n          onChange={props.changed}\n        />\n      );\n      break;\n    case \"select\":\n      inputElement = (\n        <select\n          className={inputClasses.join(\" \")}\n          value={props.value}\n          onChange={props.changed}\n        >\n          {props.elementConfig.options.map(option => (\n            <option key={option.value} value={option.value}>\n              {option.displayValue}\n            </option>\n          ))}\n        </select>\n      );\n      break;\n    default:\n      inputElement = (\n        <input\n          className={inputClasses.join(\" \")}\n          {...props.elementConfig}\n          value={props.value}\n          onChange={props.changed}\n        />\n      );\n  }\n\n  return (\n    <div className={classes.InputElement}>\n      <label className={classes.Label}>{props.label}</label>\n      {inputElement}\n    </div>\n  );\n};\n\nexport default input;\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport Input from \"../../components/UI/Input/Input\";\nimport Button from \"../../components/UI/Button/Button\";\nimport NavigationItem from \"../../components/Navigation/NavigationItem\";\nimport * as actions from \"../../store/actions/index\";\nimport { updateObject, checkValidity } from \"../../utils/utility\";\nimport \"./Authenticate.css\";\n\nconst Authenticate = props => {\n  const [authForm, setAuthForm] = useState({\n    email: {\n      elementType: \"input\",\n      elementConfig: {\n        type: \"email\",\n        placeholder: \"Email Address\"\n      },\n      value: \"\",\n      validation: {\n        required: true,\n        isEmail: true\n      },\n      valid: false,\n      touched: false\n    },\n    password: {\n      elementType: \"input\",\n      elementConfig: {\n        type: \"password\",\n        placeholder: \"Password\"\n      },\n      value: \"\",\n      validation: {\n        required: true,\n        minLength: 6\n      },\n      valid: false,\n      touched: false\n    }\n  });\n\n  const [isSignup, setIsSignup] = useState(true);\n\n  const { searchResult, authRedirectPath, onSetAuthRedirectPath } = props;\n\n  useEffect(() => {\n    if (!searchResult && authRedirectPath !== \"/\") {\n      onSetAuthRedirectPath();\n    }\n  }, [searchResult, authRedirectPath, onSetAuthRedirectPath]);\n\n  const inputChangedHandler = (event, controlName) => {\n    const updatedControls = updateObject(authForm, {\n      [controlName]: updateObject(authForm[controlName], {\n        value: event.target.value,\n        valid: checkValidity(\n          event.target.value,\n          authForm[controlName].validation\n        ),\n        touched: true\n      })\n    });\n    setAuthForm(updatedControls);\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n    props.onAuth(authForm.email.value, authForm.password.value, isSignup);\n  };\n\n  const switchAuthModeHandler = event => {\n    event.preventDefault();\n    setIsSignup(!isSignup);\n  };\n\n  const formElementsArray = [];\n  for (let key in authForm) {\n    formElementsArray.push({\n      id: key,\n      config: authForm[key]\n    });\n  }\n\n  let form = formElementsArray.map(formElement => (\n    <Input\n      key={formElement.id}\n      elementsType={formElement.config.elementType}\n      elementConfig={formElement.config.elementConfig}\n      value={formElement.config.value}\n      invalid={!formElement.config.valid}\n      shouldValidate={formElement.config.validation}\n      touched={formElement.config.touched}\n      changed={event => inputChangedHandler(event, formElement.id)}\n    />\n  ));\n\n  if (props.loading) {\n    form = <Spinner />;\n  }\n\n  let errorMessage = null;\n\n  if (props.error) {\n    errorMessage = <h2>{props.error.message}</h2>;\n  }\n\n  let authRedirect = null;\n  if (props.isAuthenticated) {\n    authRedirect = <Redirect to={props.authRedirectPath} />;\n  }\n\n  return (\n    <div className=\"Auth\">\n      <div className=\"Logo\">\n        <NavigationItem link=\"/\" exact>\n          <img src=\"/Logo.png\" alt=\"Logo\" />\n        </NavigationItem>\n        <NavigationItem link=\"/\" exact>\n          <h1>Better World</h1>\n        </NavigationItem>\n      </div>\n      <div className=\"AuthBox\" onSubmit={submitHandler}>\n        <h1>{isSignup ? \"Sign Up\" : \"Sign In\"}</h1>\n        <form className=\"authForm\">\n          {authRedirect}\n          {errorMessage}\n          <div className=\"Input\">{form}</div>\n          <div className=\"AuthButtons\">\n            <Button clicked={switchAuthModeHandler} btnType=\"Sign\">\n              SWITCH TO {isSignup ? \"SIGN IN\" : \"SIGN UP\"}\n            </Button>\n            <Button btnType=\"Submit\">SUBMIT</Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.authReducer.loading,\n    error: state.authReducer.error,\n    isAuthenticated: state.authReducer.token !== null,\n    searchResult: state.searchReducer.searchResult,\n    authRedirectPath: state.authReducer.authRedirectPath\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAuth: (email, password, isSignup) =>\n      dispatch(actions.auth(email, password, isSignup)),\n    onSetAuthRedirectPath: () => dispatch(actions.setAuthRedirectPath(\"/\"))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Authenticate);\n"],"sourceRoot":""}